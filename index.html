<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Impact Visualization</title>
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://d3js.org/d3.v7.min.js"></script>                                                                                                                                           
    <script src="https://unpkg.com/topojson@3"></script>                                                                                                                                            
    <script src="resources/my_codes.js"> </script>                                                                                                                                                            
    <link rel="stylesheet" type="text/css" href="resources/mystyle.css"/>
    <style>
      body {
        font-family: 'Inter', sans-serif;
      }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
</head>
<body class="bg-gray-100 p-8">

    <div class="container mx-auto p-8 bg-white rounded-lg shadow-md">
        <h1 class="text-3xl font-semibold text-blue-600 mb-6 text-center">Food Production and Environmental Impact</h1>
        <div id="food-comparison" class="mb-8">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">Food Comparison Chart</h2>
            <p class="text-gray-700 mb-4">This chart will visualize the environmental impact of different foods.</p>
            <svg id="food-comparison-chart"></svg>
        </div>
    </div>

    <script src="resources/load_data.js"> </script> 
    <script src="resources/bar_chart.js"> </script>

    <div class="container">                         

        <div class="container mx-auto p-8 bg-white rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">Most poduced foods per year by country</h2>
            <div id="food-comparison" class="mb-8">
                <p class="text-gray-700 mb-4">Select a year and a country in the map, and visualize in the following bar charts the top 5 most produced foods. There are two bar charts that update alternately to compare countries or years.</p>

                <div class="row">                       
                    <!-- Place here the world map -->  
                    <svg id="map" width="600" height="300"></svg>    
                </div>

                <div class="row" style="margin:20px 0; ">      
                    <div>                                              
                        <label for="year-slider">Select Year:</label> 
                        <!-- year selector -->                       
                        <input type="range" class="slider" id="year-slider" min="1962" max="2023" step="1" value="2023" />   
                        <span id="year-label">2023</span>                                                                   
                    </div>                                                                                                 
                </div>         

                <div class="row charts-row">       
                    <div class="chart-container">  
                        <!-- 1st bar chart -->    
                        <svg id="chart1" width="570" height="300"></svg>   
                    </div>                                                
                    <div class="chart-container">                        
                        <!-- 2nd bar chart -->                          
                        <svg id="chart2" width="570" height="300"></svg>   
                    </div>                                                
                </div>         
                
            </div>
        </div>

                                                                                                                                                                        
                                                  


        <!-- each div_scatter_banana_faostat will contain one scatter plot, based on its index.-->
        <!-- the relationship between index and chart is defined in the function draw_scatter, on scatter.js-->
        <div class="row charts-row">       
            <div id="div_scatter_banana_faostat1"  style="margin:20px 0; " style="position: relative;"></div>                                                   
            <div id="div_scatter_banana_faostat2"  style="margin:20px 0; " style="position: relative;"></div>                                                   
        </div>                                                   
        <div class="row" style="margin:20px 0; ">      
            <div id="div_scatter_banana_faostat3"  style="margin:20px 0; " style="position: relative;"></div>                                                   
        </div>                                                   

    </div>                                                      

    <!-- draw the map, and update the bar chart based o hte selected country and year -->  
    <script src="resources/map.js"> </script>                                                      
    <script src="resources/scatter.js"> </script>                                                      



</body>
</html>
